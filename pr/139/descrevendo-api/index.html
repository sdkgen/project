
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkgen.github.io/pr/139/descrevendo-api/">
      
      
      <link rel="shortcut icon" href="../logo.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>Descrevendo uma API - sdkgen</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#descrevendo-uma-api" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://sdkgen.github.io/pr/139" title="sdkgen" class="md-header-nav__button md-logo" aria-label="sdkgen">
      
  <img src="../logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            sdkgen
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Descrevendo uma API
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/sdkgen/sdkgen/" title="Ir ao repositório" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://sdkgen.github.io/pr/139" title="sdkgen" class="md-nav__button md-logo" aria-label="sdkgen">
      
  <img src="../logo.png" alt="logo">

    </a>
    sdkgen
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/sdkgen/sdkgen/" title="Ir ao repositório" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Conhecendo o sdkgen
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../primeiro-projeto/" class="md-nav__link">
      Primeiro projeto (em Node.js)
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Descrevendo uma API
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Descrevendo uma API
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos" class="md-nav__link">
    Tipos
  </a>
  
    <nav class="md-nav" aria-label="Tipos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipos-primitivos" class="md-nav__link">
    Tipos primitivos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificadores-de-tipo" class="md-nav__link">
    Modificadores de tipo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipos-compostos" class="md-nav__link">
    Tipos compostos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum" class="md-nav__link">
    Enum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estrutura-de-um-arquivo-sdkgen" class="md-nav__link">
    Estrutura de um arquivo .sdkgen.
  </a>
  
    <nav class="md-nav" aria-label="Estrutura de um arquivo .sdkgen.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipos-nomeados" class="md-nav__link">
    Tipos nomeados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcoes" class="md-nav__link">
    Funções
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#erros" class="md-nav__link">
    Erros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importando-outros-arquivos" class="md-nav__link">
    Importando outros arquivos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composicao-de-tipos" class="md-nav__link">
    Composição de tipos
  </a>
  
    <nav class="md-nav" aria-label="Composição de tipos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spreads" class="md-nav__link">
    Spreads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exemplo-final" class="md-nav__link">
    Exemplo final
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../cli/" class="md-nav__link">
      CLI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    <label class="md-nav__link" for="nav-5">
      Targets
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Targets" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Targets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../targets/servidor-nodejs/" class="md-nav__link">
      Servidor Node.js
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" >
    <label class="md-nav__link" for="nav-6">
      Aprofundando
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Aprofundando" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Aprofundando
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aprofundando/annotations/" class="md-nav__link">
      Annotations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aprofundando/rest/" class="md-nav__link">
      REST
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aprofundando/datas/" class="md-nav__link">
      date e datetime
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" class="md-nav__link">
      Problemas comuns
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../releases/" class="md-nav__link">
      Releases
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos" class="md-nav__link">
    Tipos
  </a>
  
    <nav class="md-nav" aria-label="Tipos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipos-primitivos" class="md-nav__link">
    Tipos primitivos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificadores-de-tipo" class="md-nav__link">
    Modificadores de tipo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tipos-compostos" class="md-nav__link">
    Tipos compostos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enum" class="md-nav__link">
    Enum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estrutura-de-um-arquivo-sdkgen" class="md-nav__link">
    Estrutura de um arquivo .sdkgen.
  </a>
  
    <nav class="md-nav" aria-label="Estrutura de um arquivo .sdkgen.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tipos-nomeados" class="md-nav__link">
    Tipos nomeados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funcoes" class="md-nav__link">
    Funções
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#erros" class="md-nav__link">
    Erros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#importando-outros-arquivos" class="md-nav__link">
    Importando outros arquivos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composicao-de-tipos" class="md-nav__link">
    Composição de tipos
  </a>
  
    <nav class="md-nav" aria-label="Composição de tipos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spreads" class="md-nav__link">
    Spreads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exemplo-final" class="md-nav__link">
    Exemplo final
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/sdkgen/sdkgen/edit/master/docs/descrevendo-api.md" title="Editar esta página" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="descrevendo-uma-api">Descrevendo uma API<a class="headerlink" href="#descrevendo-uma-api" title="Permanent link">&para;</a></h1>
<p>API's do sdkgen são descritas em um arquivo <code>.sdkgen</code>. O objetivo desta descrição é firmar um contrato claro entre o que um front-end pode solicitar e receber e quais requisições o back-end deve tratar. Todos os dados transferidos pela API precisam respeitar este contrato rigorosamente. No fim, também funciona como documentação.</p>
<h2 id="tipos">Tipos<a class="headerlink" href="#tipos" title="Permanent link">&para;</a></h2>
<p>O primeiro passo para o entendimento de uma descrição de API do sdkgen é compreender a gramática de tipos.</p>
<h3 id="tipos-primitivos">Tipos primitivos<a class="headerlink" href="#tipos-primitivos" title="Permanent link">&para;</a></h3>
<p>O sdkgen possui alguns tipos primitivos, com diferentes regras e características.</p>
<table>
<thead>
<tr>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>string</code></td>
<td>Um texto livre, potencialmente de múltiplas linhas, codificado como UTF-8.</td>
</tr>
<tr>
<td><code>int</code></td>
<td>Um número inteiro de 32 bits, no intervalo de -2147483648 até 2147483647.</td>
</tr>
<tr>
<td><code>uint</code></td>
<td>Um número inteiro não negativo, no intervalo de 0 até 4294967295.</td>
</tr>
<tr>
<td><code>bigint</code></td>
<td>Um número inteiro sem limite de precisão. Na maioria das plataformas este tipo é mais custoso.</td>
</tr>
<tr>
<td><code>float</code></td>
<td>Um número de ponto flutuante de 64 bits, similar ao <code>double</code> do C.</td>
</tr>
<tr>
<td><code>money</code></td>
<td>Um número inteiro com precisão estendida, mas performático. Está no intervalo de -9007199254740991 a 9007199254740991. Útil para operações financeiras</td>
</tr>
<tr>
<td><code>bool</code></td>
<td>Ou <code>true</code> ou <code>false</code>.</td>
</tr>
<tr>
<td><code>json</code></td>
<td>Um valor JSON qualquer, incluindo objetos, arrays, strings, números e boleanos, em qualquer profundidade. Note que embora <code>null</code> possa aparecer dentro de um objeto ou array, o valor deste campo não pode ser <code>null</code> diretamente. Para isso utilize <code>json?</code>.</td>
</tr>
<tr>
<td><code>date</code></td>
<td>Representa conceitualmente uma data do calendário Gregoriano. Essa mesma data pode representar diferentes momento no tempo a depender da timezone. Para especificar um ponto no tempo utilize <code>datetime</code>.</td>
</tr>
<tr>
<td><code>datetime</code></td>
<td>Representa um instante no tempo com precisão de milissegundos. Este instante será sempre traduzido para o fuso horário local do recebedor da mensagem.</td>
</tr>
<tr>
<td><code>bytes</code></td>
<td>Uma sequência arbitrária de bytes de qualquer comprimento. Pode ser utilizado para tráfego de dados binários.</td>
</tr>
<tr>
<td><code>base64</code></td>
<td>Similar a uma <code>string</code>, mas necessariamente com uma codificação Base 64 válida.</td>
</tr>
<tr>
<td><code>url</code></td>
<td>Similar a uma <code>string</code>, mas contendo uma URL válida.</td>
</tr>
<tr>
<td><code>hex</code></td>
<td>Similar a uma <code>string</code>, mas contendo uma quantidade par de caracteres hexadecimais, útil para representar bytes.</td>
</tr>
<tr>
<td><code>uuid</code></td>
<td>Similar a uma <code>string</code>, mas contendo um UUID válido.</td>
</tr>
<tr>
<td><code>email</code></td>
<td>Similar a uma <code>string</code>, mas contendo um e-mail válido.</td>
</tr>
<tr>
<td><code>xml</code></td>
<td>Similar a uma <code>string</code>, mas contendo um XML válido.</td>
</tr>
<tr>
<td><code>html</code></td>
<td>Similar a uma <code>string</code>, mas contendo um HTML válido.</td>
</tr>
<tr>
<td><code>cpf</code></td>
<td>Similar a uma <code>string</code>, mas contendo um CPF válido.</td>
</tr>
<tr>
<td><code>cnpj</code></td>
<td>Similar a uma <code>string</code>, mas contendo um CNPJ válido.</td>
</tr>
</tbody>
</table>
<h3 id="modificadores-de-tipo">Modificadores de tipo<a class="headerlink" href="#modificadores-de-tipo" title="Permanent link">&para;</a></h3>
<p>O sdkgen possui dois modificadores que podem ser sufixados em qualquer tipo: <code>?</code> e <code>[]</code>.</p>
<p>Todos os tipos são por padrão requeridos, com <code>null</code> não sendo um valor válido para nenhum deles. Um tipo pode se tornar nulável ao ser sufixado com <code>?</code>. Nesse caso ele retêm o seu comportamento original com a adição de que <code>null</code> se torna um valor aceitável. Por exemplo: <code>string?</code> aceita qualquer texto livre ou <code>null</code>.</p>
<p>O modificador <code>[]</code> pode ser adicionado ao final de qualquer tipo para criar uma lista deste tipo (um <em>array</em>, na maioria das linguagens). Estas listas podem ter zero ou mais repetições deste tipo. Por exemplo: <code>cpf[]</code> denota uma lista de CPF's válidos.</p>
<p>Esses dois modificadores podem ser combinados e repetidos livremente. Alguns exemplos: <code>int[]?</code> significa ou <code>null</code> ou uma lista de <code>int</code>'s. <code>string[][]</code> significa uma lista de listas de <code>string</code>'s. <code>bool?[]</code> significa uma lista de ou <code>true</code> ou <code>false</code> ou <code>null</code>.</p>
<h3 id="tipos-compostos">Tipos compostos<a class="headerlink" href="#tipos-compostos" title="Permanent link">&para;</a></h3>
<p>Objetos compostos podem ser construídos, similar a classes, interfaces ou estruturas em outras linguagens. A sintaxe vem na forma de uma sequência de campos entre chaves, onde cada campo possui um nome e um tipo. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>{
  name: string
  age: uint
}
</code></pre></div>
<p>Os campos podem vir em qualquer ordem desde de que não haja repetição. Qualquer tipo é válido em um campo, incluindo opcionais, listas ou outros objetos. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>{
  id: uuid
  name: string
  avatar: url?
  friends: {
    id: uuid
    name: string
  }[]
}
</code></pre></div>
<h3 id="enum">Enum<a class="headerlink" href="#enum" title="Permanent link">&para;</a></h3>
<p>Em adição aos tipos anteriores um <code>enum</code> representa um conjunto limitado de possibilidades de valores, similar as enumerações em outras linguagens. A sintaxe inicia com a palavra chave <code>enum</code>, seguida por uma sequência de palavras entre chaves, separadas por espaços ou quebras de linha. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>enum {
  sent
  received
  failed
}
</code></pre></div>
<p>Ou:</p>
<div class="highlight"><pre><span></span><code>enum { small medium large }
</code></pre></div>
<p>Enums podem aparecer em qualquer posição que um tipo pode, inclusive sendo opcional, lista ou parte de um tipo composto. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>{
  name: string
  skills: enum {
    javascript
    csharp
    go
  }[]
}
</code></pre></div>
<h2 id="estrutura-de-um-arquivo-sdkgen">Estrutura de um arquivo <code>.sdkgen</code>.<a class="headerlink" href="#estrutura-de-um-arquivo-sdkgen" title="Permanent link">&para;</a></h2>
<p>Em um arquivo <code>.sdkgen</code> você pode definir funções, tipos nomeados e erros.</p>
<h3 id="tipos-nomeados">Tipos nomeados<a class="headerlink" href="#tipos-nomeados" title="Permanent link">&para;</a></h3>
<p>Tipos nomeados podem ser criados com a sintaxe <code>type NomeDoTipo Tipo</code>. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>type PersonName string
</code></pre></div>
<p>Embora qualquer um dos tipos descritos acima possa aparece na definição de um tipo nomeado, esta construção é muito mais comum com tipos compostos e enums. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>type Person {
  name: string
  age: uint
}
</code></pre></div>
<p>Uma vez que um tipo nomeado tenha sido definido, o nome do tipo pode ser utilizado em qualquer lugar que receba um tipo. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>type UserType enum {
  guest
  fullUser
  admin
}

type User {
  id: uuid
  type: UserType
  name: string
}
</code></pre></div>
<p>Dessa maneira tipos podem ser combinados e utilizados múltiplas vezes sem repetição. Um mesmo nome pode ser declarado mais de uma vez, desde que todas as declarações sejam idênticas. A ordem das declarações não tem importância (a declaração do tipo pode aparecer depois do seu uso). Tipos, no entanto, não podem ser recursivos.</p>
<h3 id="funcoes">Funções<a class="headerlink" href="#funcoes" title="Permanent link">&para;</a></h3>
<p>A descrição das funções é provavelmente a parte mais importante da sua API. Toda função possui um nome, uma lista de argumentos e, opcionalmente, um tipo de retorno. Todas as funções descritas estarão expostas para serem chamadas por seus usuários, cabendo à implementação de sua API o trabalho de autenticar e autorizar acessos. Cada função deve possuir um nome claro que indique seu funcionamento, geralmente iniciando com um verbo.</p>
<p>Exemplo da sintaxe:</p>
<div class="highlight"><pre><span></span><code>fn addNumbers(first: int, second: int): int
</code></pre></div>
<p>Argumentos podem vir em qualquer quantidade e todos os tipos devem ser obrigatoriamente especificados. Caso um argumento seja opcional, utilize o modificador de tipo opcional <code>?</code> ao fim do tipo. O retorno da função pode ou não ser especificado. Caso não seja, a função não retornará nenhum valor.</p>
<p>Todas as funções descritas serão expostas nos códigos gerados pelo sdkgen para cliente ou para servidor, na forma de funções que retornam <code>Promise</code>, <code>Future</code> ou equivalente. O nome de cada função deve ser único, não havendo suporte a sobrecarga de funções (ou seja, não é possível diferenciar duas funções apenas pelo tipo de seus argumentos).</p>
<h3 id="erros">Erros<a class="headerlink" href="#erros" title="Permanent link">&para;</a></h3>
<p>Toda API possui erros mapeados, seja por conta de um argumento passado incorretamente, por um recurso solicitado não existir ou por uma falha de um serviço externo, por exemplo. É importante que esses erros possíveis sejam também descritos para que um cliente não seja surpreendido. No sdkgen você pode declarar errors com a notação <code>error NomeDoErro</code>. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>error InvalidArgument
error NotFound
</code></pre></div>
<p>A implementação do servidor poderá lançar esses erros ao longo da execução e estes serão transmitidos ao cliente junto a uma mensagem de texto livre, de forma que o cliente possa tratar.</p>
<p>Toda API sdkgen possui um erro implícito de nome <code>Fatal</code>. Qualquer erro que seja lançado no servidor que não seja um dos erros descritos no contrato da API será convertido em um erro de tipo <code>Fatal</code> antes de ser encaminhado ao cliente. Idealmente uma API nunca deve deixar escapar um erro <code>Fatal</code>.</p>
<p>Um erro do sdkgen também pode possuir dados adicionais que ajudem a explicar o ocorrido. Esses dados podem ser de qualquer tipo (inclusive objetos) e serão trafegados para o cliente quando o backend lançar o erro. Exemplo:</p>
<div class="highlight"><pre><span></span><code>error InvalidArgument {
  argumentName: string
  reason: string
}

error RetryLater datetime
</code></pre></div>
<h3 id="importando-outros-arquivos">Importando outros arquivos<a class="headerlink" href="#importando-outros-arquivos" title="Permanent link">&para;</a></h3>
<p>Conforme uma API se torna maior e mais complexa passa a ser interessante dividir em múltiplos arquivos. Para isso a palavra-chave <code>import</code> pode ser utilizada. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>import &quot;../user&quot;
</code></pre></div>
<p>O significado desta linha é buscar um arquivo chamado <code>../user.sdkgen</code> a partir da pasta atual. O <code>..</code> neste caso significa "a pasta acima da pasta atual". Qualquer caminho relativo ao arquivo atual pode ser passado e a extensão do arquivo ( <code>.sdkgen</code>) não deve ser mencionada. O comportamento é diretamente equivalente a copiar o conteúdo do arquivo e colar dentro do arquivo atual, na posição do import. Cuidado para não incluir o mesmo arquivo mais de uma vez.</p>
<h2 id="composicao-de-tipos">Composição de tipos<a class="headerlink" href="#composicao-de-tipos" title="Permanent link">&para;</a></h2>
<p>Tipos podem ser criados a partir de outros tipos já existentes. Atualmente o sdkgen suporta apenas um operador neste sentido, o spread.</p>
<h3 id="spreads">Spreads<a class="headerlink" href="#spreads" title="Permanent link">&para;</a></h3>
<p>Ao expressar um tipo composto (estrutura com um ou mais campos), você pode copiar os campos de outro tipo já existente no local. Para isso utilize <code>...NomeDoTipo</code> dentro da definição de uma estrutura, junto com os demais campos. Por exemplo:</p>
<div class="highlight"><pre><span></span><code>type BasicUser {
  id: uuid
  name: string
}

type User {
  email: string
  ...BasicUser
  friends: BasicUser[]
}
</code></pre></div>
<p>Neste exemplo o tipo <code>User</code> terá 4 campos: <code>email</code>, <code>id</code>, <code>name</code> e <code>friends</code>. O operador <code>...</code> fará papel de copiar os campos de <code>BasicUser</code> para <code>User</code>. É exatamente equivalente a escrever:</p>
<div class="highlight"><pre><span></span><code>type BasicUser {
  id: uuid
  name: string
}

type User {
  email: string
  id: uuid
  name: string
  friends: BasicUser[]
}
</code></pre></div>
<p>Um tipo pode conter múltiplos spreads. Caso um campo exista tanto no tipo atual quanto vindo do spread, o campo vindo do spread será utilizado. Caso um mesmo campo apareça em mais de um spread, a última ocorrência prevalecerá. Note que isso significa que um spread sempre substitui o campo do tipo, em caso de conflito. Exemplo:</p>
<div class="highlight"><pre><span></span><code>type A { foo: int }
type B { foo: string }
type C { bar: int }

type Test1 {
  ...B
  ...A
}

type Test2 {
  ...C
  bar: string
}
</code></pre></div>
<p>Neste exemplo <code>Test1</code> terá um campo <code>foo</code> de tipo <code>int</code>, já que <code>...A</code> aparece por último. <code>Test2</code>, por sua vez, terá um campo <code>bar</code> de tipo <code>int</code>, já que spreads sempre têm prioridade a campos locais.</p>
<h2 id="exemplo-final">Exemplo final<a class="headerlink" href="#exemplo-final" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>error NotFound

type User {
  id: uuid
  avatar: url?
  name: string
  type: enum {
    guest
    fullUser
    admin
  }
}

fn getUser(id: uuid): User
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../primeiro-projeto/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Primeiro projeto (em Node.js)
              </div>
            </div>
          </a>
        
        
          <a href="../cli/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Próximo
                </span>
                CLI
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://t.me/sdkgen" target="_blank" rel="noopener" title="Telegram" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg>
      </a>
    
      
      
      <a href="https://github.com/sdkgen/sdkgen" target="_blank" rel="noopener" title="GitHub" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.placeholder": "Digite para iniciar a busca", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ['navigation.instant', 'toc.autohide'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>